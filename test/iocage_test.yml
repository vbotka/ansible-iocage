---
# Ansible managed

- name: Test iocage
  hosts: "{{ my_hosts | d('localhost') }}"
  strategy: "{{ my_strategy | d('linear') }}"
  gather_facts: true
  become: true
  become_method: ansible.builtin.sudo
  environment: "{{ iocage_environment }}"

  vars:

    debug: false
    debug2: false
    debug_iocage_lists: false
    sanity: false

  tasks:

    - ansible.builtin.import_tasks: tasks/debug.yml
      when: debug | bool
      tags: debug

    - ansible.builtin.import_tasks: tasks/sanity.yml
      when: sanity | bool
      tags: sanity

    - ansible.builtin.import_tasks: tasks/custom_stats_start.yml
      tags: always

    - ansible.builtin.import_tasks: tasks/group_absent.yml
      tags: group_absent

    - ansible.builtin.import_tasks: tasks/group_all.yml
      tags: group_all

    - ansible.builtin.import_tasks: tasks/group_base.yml
      tags: group_base

    - ansible.builtin.import_tasks: tasks/group_clone_start_exec_pkg.yml
      tags: group_clone_start_exec_pkg

    - ansible.builtin.import_tasks: tasks/group_clone_start_exec_pkg_absent.yml
      tags: group_clone_start_exec_pkg_absent

    - ansible.builtin.import_tasks: tasks/group_jail.yml
      tags: group_jail

    - ansible.builtin.import_tasks: tasks/group_present_absent_restart.yml
      tags: group_present_absent_restart

    - ansible.builtin.import_tasks: tasks/group_present_start_exec_set1.yml
      tags: group_present_start_exec_set1

    - ansible.builtin.import_tasks: tasks/group_setup.yml
      tags: group_setup

    - ansible.builtin.import_tasks: tasks/group_start_restart_stop.yml
      tags: group_start_restart_stop

    - ansible.builtin.import_tasks: tasks/group_start_restart_stop_all.yml
      tags: group_start_restart_stop_all

    - ansible.builtin.import_tasks: tasks/group_start_restart_stop_crash.yml
      tags: group_start_restart_stop_crash

    - ansible.builtin.import_tasks: tasks/group_template.yml
      tags: group_template

    - ansible.builtin.import_tasks: tasks/group_test.yml
      tags: group_test

    - ansible.builtin.import_tasks: tasks/group_test_uuid.yml
      tags: group_test_uuid

    - ansible.builtin.import_tasks: tasks/custom_stats_end.yml
      tags: always

# EOF
